# 位运算
## 1. 进制的基本概念
### 1.1 进位计数制
  任何一种进位计数制都有一个基数，基数为 `X` 的进位计数制称为 `X` 进制，意味着每个数位上运算时都是逢 `X` 进 `1`。
  
### 1.2 进制间转换
#### 1.2.1 非十进制转十进制
  计算每个数位的加权和即可。
  例如将16进制数 `1A60.5` 转换为十进制：
  > 1A60.5 = 1 * 16^3 + 10 * 16^2 + 6 * 16^1 + 0 * 16^0 + 5 * 16^-1 =  6752.3125

#### 1.2.2 十进制转非十进制
  一般将整数部分和小数部分分开计算。
  * 整数部分
    将整数部分每次除以 `X`，记录每次计算的余数，直到被除数变为0。然后反向遍历余数结果就可以得到 `X` 进制数。
    
    以 `2` 进制为例，将十进制数 `100` 转换为 `2` 进制：
    ```
    100 / 2 = 50 余 0
    50 / 2 = 25 余 0
    25 / 2 = 12 余 1
    12 / 2 = 6 余 0
    6 / 2 = 3 余 0
    3 / 2 = 1 余 1
    1 / 2 = 0 余 1
    ```
    
    得到 `2` 进制表示为 `1100100`。
    
  * 小数部分
    将小数部分每次乘以 `X` 直到变为 0，记录每次结果的整数部分，正序遍历整数结果即可得到 `X` 进制表示的小数。
    
    以 `2` 进制为例，将十进制数 `0.7235` 转换为 `2` 进制：
    ```
    0.375 * 2 = 0.75 整数部分为 0
    0.75 * 2 = 1.5 整数部分为 1
    0.5 * 2 = 1 整数部分为1
    ```
    
    得到 `2` 进制表示为 `0.011`。
    由于乘法的结果最后不一定总能将小数位清 0，所以很多时候一种进制下的有限小数转换为其他进制时会变成无限循环小数。例如十进制的 `0.9` 转换为二进制结果为
    `0.1[1100]` 后四位无限循环。

### 1.2.3 其他进制间的转换
  一般的思路是转换为十进制再转换到目标进制。
  
  如果要转换的进制间存在对数关系，可以直接转换，比如二进制转换到八进制，因为 `8 = 2^3`，可以每3位一组计算得到对应位数上的值。例如二进制 `110010011` 转换为八进制，先分组：
  > 110|010|011
  
  再分别计算得到对应位数的八进制数字：
  > 6|2|3

## 2. java 中的二进制


## 3. 位运算常用公式

- 计算只包含最后一位1的二进制数

  x&-x

- 计算消除了最后一位1的二进制数

  x&（x-1）

* 计算最大公约数

    x % y 一直递归下去，直到x＝＝y就是最大公约数。
    
* 查找重复数字

    x^x == 0

    x^x^x == x

    奇数次异或可以得到原数字，偶数次异或得到0，可以用来区分重复次数分别为奇数和偶数的两组数字。

  

## 4. 应用方案

* 二进制压缩

  当问题有一系列不同的元素只有有限种状态时，可以用二进制表示状态，称为二进制压缩。

- 二进制归并

  0x55555555

  0x33333333

  0x0f0f0f0f

  0x00ff00ff

  0x0000ffff

  经常用于二进制位上的二路归并，可用于排序（比如二进制位反转），也可用于计数（比如计算二进制位中1的个数）

- hash表和位运算配合可以大幅降低时间复杂度和空间复杂度

- 状态机用位运算可以在有限内存下表示更多状态
